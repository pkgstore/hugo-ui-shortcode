{{- if (.Get 0) -}}

    {{ $users_repos := (split (.Get 0) "|") }}

    {{ $ts := (now.Unix) }}
    {{ $headers := (dict
    "User-Agent" (site.Params.api.user_agent)
    "Authorization" (printf "Bearer %s" ((site.Params.api.github.token) | base64Decode))
    ) }}
    {{ $api := "https://api.github.com" }}

    <div class="shortcode shortcode-{{ ($.Name) }} mb-3">
      <div class="row row-cols-1 row-cols-lg-2 g-3">

          {{ range ($users_repos) }}

              {{ $repos := (getJSON ($api) "/users/" . "/repos" "?ts=" ($ts) ($headers)) }}

              {{ range ($repos) }}

                  {{ $owner := (getJSON (.owner.url) "?ts=" ($ts) ($headers)) }}

                  <div class="col">
                    <div class="card">
                      <div class="row g-0">
                        <div class="col-md-4 p-1">
                          <a class="d-inline-block" href="{{ (.html_url) }}" target="_blank" rel="noopener nofollow">
                            <img src="{{ (.owner.avatar_url) }}" class="card-img" alt="{{ (.name) }}"/>
                          </a>
                        </div>
                        <div class="col-md-8">
                          <div class="card-body h-100">
                            <div class="d-flex flex-column h-100">
                              <div class="flex-shrink-0">
                                <h5 class="card-title">
                                  <a href="{{ (.html_url) }}" target="_blank" rel="noopener nofollow">
                                      {{ (.name) }}
                                  </a>
                                </h5>
                                <h6 class="card-subtitle mb-2 text-muted">
                                    {{ (($owner.name) | default ($owner.login)) }}
                                </h6>
                                <p class="card-text">{{ ((.description) | plainify) }}</p>
                              </div>
                              <div class="mt-auto">
                                <ul class="list-inline m-0 mt-3">
                                  <li class="list-inline-item" data-bs-tooltip data-bs-title='{{ (i18n "sc.github.user.repo.stargazers") }}'>
                                    <a class="btn btn-light btn-sm text-muted" href="{{ (.html_url) }}/stargazers"
                                       target="_blank" rel="noopener nofollow" role="button">
                                      <i class="fas fa-star fa-fw me-1"></i>
                                        {{ (.stargazers_count) }}
                                    </a>
                                  </li>
                                  <li class="list-inline-item" data-bs-tooltip data-bs-title='{{ (i18n "sc.github.user.repo.forks") }}'>
                                    <a class="btn btn-light btn-sm text-muted" href="{{ (.html_url) }}/network/members"
                                       target="_blank" rel="noopener nofollow" role="button">
                                      <i class="fas fa-code-branch fa-fw me-1"></i>
                                        {{ (.forks_count) }}
                                    </a>
                                  </li>
                                    {{ if (.license) }}
                                        {{ $license := (getJSON (.license.url) "?ts=" ($ts) ($headers)) }}
                                        <li class="list-inline-item" data-bs-tooltip data-bs-title='{{ (i18n "sc.github.user.repo.license") }}'>
                                          <a class="btn btn-light btn-sm text-muted" href="{{ ($license.html_url) }}"
                                             target="_blank" rel="noopener nofollow" role="button">
                                            <i class="fas fa-copyright fa-fw me-1"></i>
                                              {{ ($license.spdx_id) }}
                                          </a>
                                        </li>
                                    {{ end }}
                                </ul>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

              {{ end }}

          {{ end }}

      </div>
    </div>

{{- else -}}

    {{ (partial "alerts/no_params" .) }}

{{- end -}}
